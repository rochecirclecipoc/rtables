<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pagination of a TableTree — pag_tt_indices • rtables</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pagination of a TableTree — pag_tt_indices" />
<meta property="og:description" content="Pagination of a TableTree" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rtables</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/roche/rtables">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pagination of a TableTree</h1>
    <small class="dont-index">Source: <a href='https://github.com/roche/rtables/blob/master/R/tt_paginate.R'><code>R/tt_paginate.R</code></a></small>
    <div class="hidden name"><code>paginate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Pagination of a TableTree</p>
    </div>

    <pre class="usage"><span class='fu'>pag_tt_indices</span>(
  <span class='no'>tt</span>,
  <span class='kw'>lpp</span> <span class='kw'>=</span> <span class='fl'>15</span>,
  <span class='kw'>min_siblings</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>nosplitin</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(),
  <span class='kw'>colwidths</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)

<span class='fu'>paginate_table</span>(
  <span class='no'>tt</span>,
  <span class='kw'>lpp</span> <span class='kw'>=</span> <span class='fl'>15</span>,
  <span class='kw'>min_siblings</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>nosplitin</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(),
  <span class='kw'>colwidths</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tt</th>
      <td><p>TableTree (or related class). A TableTree object representing a populated table.</p></td>
    </tr>
    <tr>
      <th>lpp</th>
      <td><p>numeric. Maximum lines per page including (re)printed header and context rows</p></td>
    </tr>
    <tr>
      <th>min_siblings</th>
      <td><p>numeric. Minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2.</p></td>
    </tr>
    <tr>
      <th>nosplitin</th>
      <td><p>character. List of names of sub-tables where page-breaks are not allowed, regardless of other
considerations. Defaults to none.</p></td>
    </tr>
    <tr>
      <th>colwidths</th>
      <td><p>numeric vector. Column widths for use with vertical pagination. Currently ignored.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical(1). Should extra debugging messages be shown. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This is our first take on pagination. We will refine pagination in subsequent releases. Currently only
pagination in the row space work. Pagination in the column space will be added in the future.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>s_summary</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) {
 <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>is.numeric</a></span>(<span class='no'>x</span>)) {
     <span class='fu'>in_rows</span>(
         <span class='st'>"n"</span> <span class='kw'>=</span> <span class='fu'>rcell</span>(<span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(!<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>x</span>)), <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xx"</span>),
         <span class='st'>"Mean (sd)"</span> <span class='kw'>=</span> <span class='fu'>rcell</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>x</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='fu'><a href='https://rdrr.io/r/stats/sd.html'>sd</a></span>(<span class='no'>x</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)),
                             <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xx.xx (xx.xx)"</span>),
         <span class='st'>"IQR"</span> <span class='kw'>=</span> <span class='fu'>rcell</span>(<span class='fu'><a href='https://rdrr.io/r/stats/IQR.html'>IQR</a></span>(<span class='no'>x</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xx.xx"</span>),
         <span class='st'>"min - max"</span> <span class='kw'>=</span> <span class='fu'>rcell</span>(<span class='fu'><a href='https://rdrr.io/r/base/range.html'>range</a></span>(<span class='no'>x</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xx.xx - xx.xx"</span>)
     )
 } <span class='kw'>else</span> <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>is.factor</a></span>(<span class='no'>x</span>)) {

     <span class='no'>vs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>as.list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>x</span>))
     <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span>(<span class='no'>in_rows</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='no'>vs</span>, <span class='no'>rcell</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xx"</span>))

 } <span class='kw'>else</span> (
     <span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"type not supported"</span>)
 )
}


<span class='no'>lyt</span> <span class='kw'>&lt;-</span> <span class='fu'>basic_table</span>() <span class='kw'>%&gt;%</span>
<span class='fu'>split_cols_by</span>(<span class='kw'>var</span> <span class='kw'>=</span> <span class='st'>"ARM"</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>analyze</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"AGE"</span>, <span class='st'>"SEX"</span>, <span class='st'>"BEP01FL"</span>, <span class='st'>"BMRKR1"</span>, <span class='st'>"BMRKR2"</span>, <span class='st'>"COUNTRY"</span>), <span class='kw'>afun</span> <span class='kw'>=</span> <span class='no'>s_summary</span>)

<span class='no'>tbl</span> <span class='kw'>&lt;-</span> <span class='fu'>build_table</span>(<span class='no'>lyt</span>, <span class='no'>ex_adsl</span>)
<span class='no'>tbl</span></div><div class='output co'>#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; AGE                                                              
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          33.77 (6.55)   35.43 (7.9)     35.43 (7.72) 
#&gt;   IQR                     11             10              10      
#&gt;   min - max            21 - 50        21 - 62         20 - 69    
#&gt; SEX                                                              
#&gt;   F                       79             77              66      
#&gt;   M                       51             55              60      
#&gt;   U                       3              2               4       
#&gt;   UNDIFFERENTIATED        1              0               2       
#&gt; BEP01FL                                                          
#&gt;   Y                       68             63              66      
#&gt;   N                       66             71              66      
#&gt; BMRKR1                                                           
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          5.97 (3.55)     5.7 (3.31)     5.62 (3.49)  
#&gt;   IQR                    4.16           4.06            3.88     
#&gt;   min - max          0.41 - 17.67   0.65 - 14.24    0.17 - 21.39 
#&gt; BMRKR2                                                           
#&gt;   LOW                     50             45              40      
#&gt;   MEDIUM                  37             56              42      
#&gt;   HIGH                    47             33              50      
#&gt; COUNTRY                                                          
#&gt;   CHN                     74             81              64      
#&gt;   USA                     10             13              17      
#&gt;   BRA                     13             7               10      
#&gt;   PAK                     12             9               10      
#&gt;   NGA                     8              7               11      
#&gt;   RUS                     5              8               6       
#&gt;   JPN                     5              4               9       
#&gt;   GBR                     4              3               2       
#&gt;   CAN                     3              2               3       
#&gt;   CHE                     0              0               0       </div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>tbl</span>)</div><div class='output co'>#&gt; [1] 33</div><div class='input'>
<span class='fu'>row_paths_summary</span>(<span class='no'>tbl</span>)</div><div class='output co'>#&gt; rowname               node_class    path                 
#&gt; ---------------------------------------------------------
#&gt; AGE                   LabelRow      AGE                  
#&gt;   n                   DataRow       AGE, n               
#&gt;   Mean (sd)           DataRow       AGE, Mean (sd)       
#&gt;   IQR                 DataRow       AGE, IQR             
#&gt;   min - max           DataRow       AGE, min - max       
#&gt; SEX                   LabelRow      SEX                  
#&gt;   F                   DataRow       SEX, F               
#&gt;   M                   DataRow       SEX, M               
#&gt;   U                   DataRow       SEX, U               
#&gt;   UNDIFFERENTIATED    DataRow       SEX, UNDIFFERENTIATED
#&gt; BEP01FL               LabelRow      BEP01FL              
#&gt;   Y                   DataRow       BEP01FL, Y           
#&gt;   N                   DataRow       BEP01FL, N           
#&gt; BMRKR1                LabelRow      BMRKR1               
#&gt;   n                   DataRow       BMRKR1, n            
#&gt;   Mean (sd)           DataRow       BMRKR1, Mean (sd)    
#&gt;   IQR                 DataRow       BMRKR1, IQR          
#&gt;   min - max           DataRow       BMRKR1, min - max    
#&gt; BMRKR2                LabelRow      BMRKR2               
#&gt;   LOW                 DataRow       BMRKR2, LOW          
#&gt;   MEDIUM              DataRow       BMRKR2, MEDIUM       
#&gt;   HIGH                DataRow       BMRKR2, HIGH         
#&gt; COUNTRY               LabelRow      COUNTRY              
#&gt;   CHN                 DataRow       COUNTRY, CHN         
#&gt;   USA                 DataRow       COUNTRY, USA         
#&gt;   BRA                 DataRow       COUNTRY, BRA         
#&gt;   PAK                 DataRow       COUNTRY, PAK         
#&gt;   NGA                 DataRow       COUNTRY, NGA         
#&gt;   RUS                 DataRow       COUNTRY, RUS         
#&gt;   JPN                 DataRow       COUNTRY, JPN         
#&gt;   GBR                 DataRow       COUNTRY, GBR         
#&gt;   CAN                 DataRow       COUNTRY, CAN         
#&gt;   CHE                 DataRow       COUNTRY, CHE         </div><div class='input'>
<span class='no'>tbls</span> <span class='kw'>&lt;-</span> <span class='fu'>paginate_table</span>(<span class='no'>tbl</span>)

<span class='no'>w_tbls</span> <span class='kw'>&lt;-</span> <span class='fu'>propose_column_widths</span>(<span class='no'>tbl</span>) <span class='co'># so that we have the same column widths</span>

<span class='no'>tmp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='no'>tbls</span>, <span class='no'>print</span>, <span class='kw'>widths</span> <span class='kw'>=</span> <span class='no'>w_tbls</span>)</div><div class='output co'>#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; AGE                                                              
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          33.77 (6.55)   35.43 (7.9)     35.43 (7.72) 
#&gt;   IQR                     11             10              10      
#&gt;   min - max            21 - 50        21 - 62         20 - 69    
#&gt; SEX                                                              
#&gt;   F                       79             77              66      
#&gt;   M                       51             55              60      
#&gt;   U                       3              2               4       
#&gt;   UNDIFFERENTIATED        1              0               2       
#&gt; BEP01FL                                                          
#&gt;   Y                       68             63              66      
#&gt;   N                       66             71              66      
#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; BMRKR1                                                           
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          5.97 (3.55)     5.7 (3.31)     5.62 (3.49)  
#&gt;   IQR                    4.16           4.06            3.88     
#&gt;   min - max          0.41 - 17.67   0.65 - 14.24    0.17 - 21.39 
#&gt; BMRKR2                                                           
#&gt;   LOW                     50             45              40      
#&gt;   MEDIUM                  37             56              42      
#&gt;   HIGH                    47             33              50      
#&gt; COUNTRY                                                          
#&gt;   CHN                     74             81              64      
#&gt;   USA                     10             13              17      
#&gt;   BRA                     13             7               10      
#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; COUNTRY                                                          
#&gt;   PAK                     12             9               10      
#&gt;   NGA                     8              7               11      
#&gt;   RUS                     5              8               6       
#&gt;   JPN                     5              4               9       
#&gt;   GBR                     4              3               2       
#&gt;   CAN                     3              2               3       
#&gt;   CHE                     0              0               0       </div><div class='input'>
<span class='no'>tmp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='no'>tbls</span>, <span class='kw'>function</span>(<span class='no'>tbli</span>) {
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/toString.html'>toString</a></span>(<span class='no'>tbli</span>, <span class='kw'>widths</span> <span class='kw'>=</span> <span class='no'>w_tbls</span>))
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>(<span class='st'>"\n\n"</span>)
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>(<span class='st'>"~~~~ PAGE BREAK ~~~~"</span>)
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>(<span class='st'>"\n\n"</span>)
})</div><div class='output co'>#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; AGE                                                              
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          33.77 (6.55)   35.43 (7.9)     35.43 (7.72) 
#&gt;   IQR                     11             10              10      
#&gt;   min - max            21 - 50        21 - 62         20 - 69    
#&gt; SEX                                                              
#&gt;   F                       79             77              66      
#&gt;   M                       51             55              60      
#&gt;   U                       3              2               4       
#&gt;   UNDIFFERENTIATED        1              0               2       
#&gt; BEP01FL                                                          
#&gt;   Y                       68             63              66      
#&gt;   N                       66             71              66      
#&gt; 
#&gt; 
#&gt; ~~~~ PAGE BREAK ~~~~
#&gt; 
#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; BMRKR1                                                           
#&gt;   n                      134            134             132      
#&gt;   Mean (sd)          5.97 (3.55)     5.7 (3.31)     5.62 (3.49)  
#&gt;   IQR                    4.16           4.06            3.88     
#&gt;   min - max          0.41 - 17.67   0.65 - 14.24    0.17 - 21.39 
#&gt; BMRKR2                                                           
#&gt;   LOW                     50             45              40      
#&gt;   MEDIUM                  37             56              42      
#&gt;   HIGH                    47             33              50      
#&gt; COUNTRY                                                          
#&gt;   CHN                     74             81              64      
#&gt;   USA                     10             13              17      
#&gt;   BRA                     13             7               10      
#&gt; 
#&gt; 
#&gt; ~~~~ PAGE BREAK ~~~~
#&gt; 
#&gt;                       A: Drug X      B: Placebo    C: Combination
#&gt; -----------------------------------------------------------------
#&gt; COUNTRY                                                          
#&gt;   PAK                     12             9               10      
#&gt;   NGA                     8              7               11      
#&gt;   RUS                     5              8               6       
#&gt;   JPN                     5              4               9       
#&gt;   GBR                     4              3               2       
#&gt;   CAN                     3              2               3       
#&gt;   CHE                     0              0               0       
#&gt; 
#&gt; 
#&gt; ~~~~ PAGE BREAK ~~~~
#&gt; </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gabriel Becker, Adrian Waddell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


